<technology>
    <div class="row">
        <div class="col-md-3 col-sm-6" ng-repeat="(key, value) in technology.platforms">
            <div class="widget widget-stats bg-silver lighten" > <!-- ng-class="value.class" -->
                <div class="stats-icon stats-icon-lg">
                    <i ng-class="value.icon" ng-style="{'color': value.color}"></i>
                </div>
                <div class="stats-title">{{key}} SESSIONS</div>
                <div class="stats-number">{{value.value | number}}</div>
                <progressbar class="stats-progress" max="technology.maxDeviceTypes" value="value.value" progressbar-color="{{value.color}}"></progressbar>
                <div class="stats-desc text-right">
                    <!-- Better than last week {{(value.value / technology.maxDeviceTypes) * 100 | number:0}}% -->
                    <inline-bar-chart data="[1,2,3,4,5,3,2,1,2,3,6,7,4,1,3,9,1,2,9,1,8,2,7,3]" options="{height: 15, width: '100%', fill: [value.color]}" style="position: absolute;bottom: 0px;left: 0px;height: 35px;"></inline-bar-chart>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <tabset>
                <tab>
                    <tab-heading>
                        <i class="fa fa-globe"></i> Technology by region
                    </tab-heading>
                    <div class="row">
                        <div class="col-sm-8">
                            <ng-chart type="worldmap" data="technology.map" options="technology.mapOptions" click="technology.countryClick(args)"></ng-chart>
                        </div>
                        <div class="col-sm-4 donut">
                            <ng-chart type="donut" data="technology.deviceTypeSplit" style="padding:25px;"></ng-chart>
                            <div class="legend text-center">
                                <span class="label label-sm bg-silver-lighter" ng-repeat="(device, value) in technology.platforms" ng-style="{'color': value.color}" ng-click="technology.setVisible(true)"><i ng-class="value.icon"></i> {{device}}</span>
                            </div>
                        </div>
                    </div>
                    <!-- div class="row">
                        <div class="col-md-offset-8 col-md-4 text-right">
                            <span class="label label-sm" ng-repeat="(device, value) in technology.platforms" style="margin-right: 10px;" ng-style="{'background-color': value.color}" ng-click="technology.setVisible(true)"><i class="fa fa-fw" ng-class="value.icon"></i> {{device}}</span>
                        </div>
                    </div -->
                </tab>
                <tab>
                    <tab-heading>
                        <i class="fa fa-gears"></i> Agents
                    </tab-heading>
                    <!-- table log-table table-striped table-condensed table-hover -->
                    <table class="table primary-table table-striped table-hover table-responsive">
                        <thead>
                            <tr>
                                <th>Browser</th>
                                <th>Calls</th>
                                <th class="text-center">Sessions %</th>
                                <th class="text-right">Avg Response Time</th>
                                <th class="text-right">Max Response Time</th>
                                <th class="text-right">Min Response Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="agent in technology.agents">
                                <td><i class="fa fa-fw zocial-ie"></i> {{agent.key}}</td>
                                <td class="text-right">{{agent.doc_count}}</td>
                                <td>
                                    <progressbar class="progress-flat" max="technology.maxAgents" value="agent.doc_count" type="primary"></progressbar>

                                </td>
                                <td class="text-right">{{agent.stats.avg | number:0}}ms</td>
                                <td class="text-right">{{agent.stats.max | number:0}}ms</td>
                                <td class="text-right">{{agent.stats.min | number:0}}ms</td>
                            </tr>
                        </tbody>
                    </table>
                    <pagination ng-change="logs.pageChanged(logs.currentPage)" total-items="logs.totalItems" ng-model="logs.currentPage" max-size="logs.maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="logs.numPages" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
                </tab>
                <tab>
                    <tab-heading>
                        <i class="fa fa-laptop"></i> Devices
                    </tab-heading>
                    <!-- table log-table table-striped table-condensed table-hover -->
                    <table class="table primary-table table-striped table-hover table-responsive">
                        <thead>
                            <tr>
                                <th>Device</th>
                                <th>Calls</th>
                                <th class="text-center">Sessions %</th>
                                <th class="text-right">Avg Response Time</th>
                                <th class="text-right">Max Response Time</th>
                                <th class="text-right">Min Response Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="deviceFamily in technology.deviceFamilies">
                                <td><i class="fa fa-fw fa-laptop"></i> {{deviceFamily.key}}</td>
                                <td class="text-right">{{deviceFamily.doc_count}}</td>
                                <td>
                                    <progressbar class="progress-flat" max="technology.maxDeviceFamilies" value="deviceFamily.doc_count" type="primary"></progressbar>
                                </td>
                                <td class="text-right">{{deviceFamily.stats.avg | number:0}}ms</td>
                                <td class="text-right">{{deviceFamily.stats.max | number:0}}ms</td>
                                <td class="text-right">{{deviceFamily.stats.min | number:0}}ms</td>
                            </tr>
                        </tbody>
                    </table>
                    <pagination ng-change="logs.pageChanged(logs.currentPage)" total-items="logs.totalItems" ng-model="logs.currentPage" max-size="logs.maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="logs.numPages" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
                </tab>
                <tab>
                    <tab-heading>
                        <i class="fa fa-linux"></i> Operating systems
                    </tab-heading>
                    <!-- table log-table table-striped table-condensed table-hover -->
                    <table class="table primary-table table-striped table-hover table-responsive">
                        <thead>
                            <tr>
                                <th>Devices</th>
                                <th>Calls</th>
                                <th class="text-center">Sessions %</th>
                                <th class="text-right">Avg Response Time</th>
                                <th class="text-right">Max Response Time</th>
                                <th class="text-right">Min Response Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="os in technology.oess">
                                <td><i class="fa fa-fw" ng-class="technology.getOsIcon(os.key)"></i> {{os.key}}</td>
                                <td class="text-right">{{os.doc_count}}</td>
                                <td>
                                    <progressbar class="progress-flat" max="technology.maxOess" value="os.doc_count" type="primary"></progressbar>
                                </td>
                                <td class="text-right">{{os.stats.avg | number:0}}ms</td>
                                <td class="text-right">{{os.stats.max | number:0}}ms</td>
                                <td class="text-right">{{os.stats.min | number:0}}ms</td>
                            </tr>
                        </tbody>
                    </table>
                    <pagination ng-change="logs.pageChanged(logs.currentPage)" total-items="logs.totalItems" ng-model="logs.currentPage" max-size="logs.maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="logs.numPages" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
                </tab>
            </tabset>
        </div>
    </div>
</technology>
